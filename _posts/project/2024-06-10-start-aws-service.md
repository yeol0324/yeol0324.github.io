---
layout: post
title: aws 데이터베이스 서비스 rds 무료 사용하기
date: 2024-06-10 11:49:53 +09:00
categories: project
tags: aws project database
---

RDB 종류 중 하나인 postgresql 을 사용해보려고 합니다. RDS에 올려두고 사용을 할 거라서 AWS에서 셋팅부터 시작을 해보겠습니다.

# 보안그룹 셋팅
RDS에 DB인스턴스에 적용할 보안그룹을 먼저 세팅하겠습니다. 
> <b>보안 그룹?</b><br>보안 그룹은 가상 방화벽 역할을 하며, 인스턴스에 대한 네트워크 트래픽을 제어합니다. 미리 셋팅을 해 주어, 안정적인 환경으로 구축할 수 있습니다.

EC2 에 접속해서 리소스 탭에 있는 보안 그룹으로 접속, 보안 그룹 생성 버튼을 클릭합니다.

보안 그룹 이름, 설명을 입력해 준 후 아웃바운드 규칙을 채워주겠습니다.

사용자 지정 TCP를 선택 후 포트범위를 5432, IPv4로 선택해준 후 규칙 추가를 선택하여 포트범위 5432, IPv6 선택 해줍니다. postgresql이 5432 포트를 사용하기때문에 5432로 추가했습니다. 

보안 그룹 생성 버튼을 클릭하면 생성 완료!

# RDS DB 인스턴스 생성
이제 RDS에 접속해 DB 인스턴스를 생성해줍니다.

마찬가지로 리소스 탭에 있는 DB 인스턴스에 접속, 데이터베이스 생성 버튼을 클릭합니다.

표준 생성 > 사용할 디비 선택 ( 해당 게시물은 PostgreSQL 사용) > 13 미만 버전 선택

> 13 버전 이상은 요금이 청구된다고 합니다!

그래서 저는 12.19-R1 버전을 선택했습니다.

그리고 템플릿에서는 프리 티어 버전을 선택했습니다. 계정 생성한지 1년 이내의 계정은 프리 티어 버전으로 정해진 범위 내에서 무료로 사용 가능합니다.

그리고 설정에서 식별자, 이름, 암호를 입력해주고 인스턴스 구성을 db.t3.micro 를 선택해주었습니다.

마지막으로 퍼블릭 액세스를 허용, 보안 그룹을 위에서 만들어 준 그룹으로 선택하면 끝!

🚨 중요 🚨
<b>과금 방지를 위해 이 옵션들은 꺼둡니다.</b>
- 스토리지 > 스토리지 자동 조정 토글을 열어 자동 조정 활성화를 off
- 모니터링 > 성능 인사이트 켜기 off
- 추가 구성 > 백업 off, 스냅샷 off, 유지관리 off

~~프로젝트 잘 두면 더 공부해서 돌아올게...~~

# vscode에서 postgresql 연결
vscode에서 postgresql 연결해서 사용해보겠습니다.

extention에서 postgresql을 검색 후 다운로드 해줍니다.

![postgresql](/assets/images/2024-06-10/extention-postgre.png)

다운로드 하고 나면 오른쪽에 코끼리모양! 포스트그레 아이콘이 생겼습니다. 아이콘을 클릭하면 나오는 텅 비어있는 공간 우측 상단에 + 버튼 클릭해줍니다.

그 다음 순차적으로
- host 입력 ( rds에서 연결할 디비 > 연결 및 보안 탭에 있는 엔드포인트 )
- 생성 시에 입력한 name 입력 ( 기억안난다면 구성 탭 > 마스터 사용자 이름 )
- 마스터 암호 입력 
- 포트 입력 ( postgresql 포트가 5432 )
- Use Secure Connection(보안 연결 사용)
Use Secure Connection: 데이터베이스와의 연결을 SSL/TLS로 암호화하여 보안성을 높임.
Standard Connection: 암호화되지 않은 일반 연결을 사용.
- 리스트에서 보일 데이터베이스 별명 입력 

이제 VSCode에서 RDS PostgreSQL 데이터베이스에 연결되었습니다!